apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# MaaS (Models as a Service) overlay: excludes LLM inference services (llama-serve)
# Use this when connecting to external model endpoints instead of deploying locally

namespace: rhai-agentic-demo

# Only include supporting services, exclude llama-serve components
resources:
  - ../../../llama-stack
  - ../../../crm
  - ../../../database
  - ../../../ui
  - ../../../mcp-servers/crm
  - ../../../mcp-servers/slack
  - ../../../mcp-servers/pdf

# Patch environment variables for external model endpoints
patches:
  - path: llama-stack-maas-patch.yaml
    target:
      kind: Deployment
      name: llamastack-deployment